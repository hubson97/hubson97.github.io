<!DOCTYPE html>
<html>
<head>
    <title>PUM lab2</title>
</head>
<body>

    <canvas height="600" width="800" id="myCanvas"></canvas>
    
    
    <script>

        const canvas = document.getElementById("myCanvas");
        const ctx = canvas.getContext("2d");

        async function sleep(ms) {
                return new Promise((resolve) => setTimeout(resolve, ms));
            }

        async function steps()
        {
            let i=0;

            const step = 100;

            for(i=0;i<5;i++)
            {
                ctx.fillRect(0+(i*step), 100+(i*step), 100, 600);  
                await sleep(1000);
            }
        }

        async function ball()
        {
        
            let x = 50;
            let y = 50;

            for(i = 0 ; i < 4; i++)
            {
                ctx.beginPath();
                ctx.fillStyle ="blue";
                ctx.arc(x, y, 48, 0, 2 * Math.PI);
                ctx.fill();
                await sleep(45);
                ctx.beginPath();
                ctx.fillStyle ="white";
                ctx.arc(x, y, 50, 0, 2 * Math.PI);
                ctx.fill();

                x += i*12;
            }
            x-=2;
            for( i = 0; i < 50; i++)
            {
                ctx.beginPath();
                ctx.fillStyle ="blue";
                ctx.arc(x, y, 48, 0, 2 * Math.PI);
                ctx.fill();
                await sleep(20);
                ctx.beginPath();
                ctx.fillStyle ="white";
                ctx.arc(x, y, 50, 0, 2 * Math.PI);
                ctx.fill();
                y += 10;
                x += 10;
            }

            for(i = 0 ; i < 4; i++)
            {
                ctx.beginPath();
                ctx.fillStyle ="blue";
                ctx.arc(x, y, 48, 0, 2 * Math.PI);
                ctx.fill();
                await sleep(20);
                ctx.beginPath();
                ctx.fillStyle ="white";
                ctx.arc(x, y, 50, 0, 2 * Math.PI);
                ctx.fill();
                x += i*12;
            }
        }

        async function job()
        {
            await steps();    
            await ball();
        }
    
        job();
        
    </script>



</body>
</html>